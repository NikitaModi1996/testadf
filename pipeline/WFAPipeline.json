{
	"name": "WFAPipeline",
	"properties": {
		"activities": [
			{
				"name": "DataCleaning",
				"description": "Data flow to join employee info table with picklist table to get the movement type, perform data cleaning",
				"type": "ExecuteDataFlow",
				"dependsOn": [],
				"policy": {
					"timeout": "1.00:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"dataflow": {
						"referenceName": "DataCleaning",
						"type": "DataFlowReference"
					},
					"compute": {
						"coreCount": 8,
						"computeType": "General"
					},
					"traceLevel": "Fine"
				}
			},
			{
				"name": "Deletecolumns_Groupby",
				"description": "Power-Query to delete columns which are not required, group by employeeID & date",
				"type": "ExecuteWranglingDataflow",
				"dependsOn": [
					{
						"activity": "DataCleaning",
						"dependencyConditions": [
							"Succeeded"
						]
					}
				],
				"policy": {
					"timeout": "",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"dataflow": {
						"referenceName": "Deletecolumns_Groupby",
						"type": "DataFlowReference"
					},
					"compute": {
						"coreCount": 8,
						"computeType": "General"
					},
					"queries": [
						{
							"queryName": "UserQuery",
							"dataflowSinks": [
								{
									"name": "UserQueryPowerq",
									"dataset": {
										"referenceName": "Powerq",
										"type": "DatasetReference"
									},
									"script": "sink(allowSchemaDrift: true,\n\tvalidateSchema: false,\n\tinput(\n\t\tJOB_INFO_ID as string,\n\t\tEMPLOYEE_ID as string,\n\t\tJOB_TITLE as string,\n\t\tJOB_CODE as string,\n\t\tEMPLOYEE_TYPE as string,\n\t\tDEPARTMENT as string,\n\t\tDIVISION as string,\n\t\tJOB_LOCATION as string,\n\t\tEFFECTIVE_START_DATE as string,\n\t\tEFFECTIVE_END_DATE as string,\n\t\tCOMPANY as string,\n\t\tBUSINESS_UNIT as string,\n\t\tCOST_CENTER as string,\n\t\tEMPLOYEE_CLASS as string,\n\t\tEMPLOYMENT_TYPE as string,\n\t\tFTE as string,\n\t\tREGULAR_TEMP as string,\n\t\tSTANDARD_HOURS as string,\n\t\tPAY_SCALE_AREA as string,\n\t\tEVENT as string,\n\t\tEVENT_REASON_ICODE as string,\n\t\tEXTERNAL_CODE as string\n\t),\n\tskipDuplicateMapInputs: true,\n\tskipDuplicateMapOutputs: true,\n\tpartitionBy('hash', 1)) ~> UserQueryPowerq"
								}
							]
						}
					]
				}
			},
			{
				"name": "MovementMetric",
				"type": "ExecuteDataFlow",
				"dependsOn": [
					{
						"activity": "Deletecolumns_Groupby",
						"dependencyConditions": [
							"Succeeded"
						]
					}
				],
				"policy": {
					"timeout": "1.00:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"dataflow": {
						"referenceName": "MovementMetric",
						"type": "DataFlowReference"
					},
					"compute": {
						"coreCount": 8,
						"computeType": "General"
					},
					"traceLevel": "Fine"
				}
			},
			{
				"name": "HeadCountMetric",
				"type": "ExecuteDataFlow",
				"dependsOn": [
					{
						"activity": "MovementMetric",
						"dependencyConditions": [
							"Succeeded"
						]
					}
				],
				"policy": {
					"timeout": "1.00:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"dataflow": {
						"referenceName": "HeadCountMetric",
						"type": "DataFlowReference"
					},
					"compute": {
						"coreCount": 8,
						"computeType": "General"
					},
					"traceLevel": "Fine"
				}
			}
		],
		"annotations": []
	}
}